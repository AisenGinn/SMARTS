env_para:
  env_name: smarts
  seed: 42
  headless: True
  visdom: False
  neighborhood_radius: 55 # Radius (meter) for neighborhood vehicles
  rgb_wh: 110 # Height and width (meter) of RGB image in SMARTS observation
  max_episode_steps: 1800 # 3 minutes. Maximum steps per episode.
  num_stack: 4 # Number of frames to stack
  num_skip: 1 # Frequency of frames to be stacked
  # action_space_type: "Lane"
  # action_space_type: "LaneWithContinuousSpeed"
  action_space_type: "Continuous"
  agent_ids: 
    - predator1
    # - predator2
    # - predator3
    - prey1
    # - prey2
  scenarios: 
    # - /home/kyber/workspaces/SMARTS/scenarios/game_of_tag_demo_map
    # - /home/kyber/workspaces/SMARTS/scenarios/cloverleaf
    # - /home/a84166141/workspaces/SMARTS/scenarios/cloverleaf
    # - /home/adai/workspaces/SMARTS/scenarios/cloverleaf    
    # - /src/scenarios/cloverleaf
    - /src/scenarios/game_of_tag_demo_map

model_para:
  # Observation and action space
  observation1_dim: [256, 256, 12] # rgb image * num_stack
  observation2_dim: [8] # [steering, speed] * num_stack
  # action_dim: 4 # Lane
  # action_dim: 0 # LaneWithContinuousSpeed
  action_dim: 5 # Continuous    
  
  # Optimizer
  predator_actor_lr: 0.0003
  predator_critic_lr: 0.001
  prey_actor_lr: 0.0003
  prey_critic_lr: 0.001

  # PPO
  gamma: 0.99 # Reward decay
  lam: 0.97 # Advantage decay
  clip_ratio: 0.2
  target_kl: 0.01

  # Iteration size
  n_steps: 1800 # Horizon, a.k.a, trajectory length
  max_traj: 100000
  actor_train_epochs: 10
  critic_train_epochs: 10

  # Gradient batch size
  grad_batch: 128

  # Models and logs
  save_interval: 20
  mode: train # train or evaluate
  model_initial: False

  # Local
  # tensorboard_path: "/home/kyber/workspaces/SMARTS/examples/gameOfTag/logs/"
  # model_path: "/home/kyber/workspaces/SMARTS/examples/gameOfTag/models/"
  # predator_actor: "/home/kyber/workspaces/SMARTS/examples/gameOfTag/models/predator_actor_2021_10_30_05_29/378"
  # predator_critic: "/home/kyber/workspaces/SMARTS/examples/gameOfTag/models/predator_critic_2021_10_30_05_29/378"
  # prey_actor: "/home/kyber/workspaces/SMARTS/examples/gameOfTag/models/prey_actor_2021_10_30_05_29/378"
  # prey_critic: "/home/kyber/workspaces/SMARTS/examples/gameOfTag/models/prey_critic_2021_10_30_05_29/378"

  # Docker
  tensorboard_path: "/src/examples/gameOfTag/logs/"
  model_path: "/src/examples/gameOfTag/models/"
